# geo-base ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ å¼•ãç¶™ããƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

**ä½œæˆæ—¥**: 2025-12-12  
**æœ€çµ‚æ›´æ–°**: 2025-12-13  
**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: geo-base - åœ°ç†ç©ºé–“ã‚¿ã‚¤ãƒ«ã‚µãƒ¼ãƒãƒ¼ã‚·ã‚¹ãƒ†ãƒ   
**ãƒªãƒã‚¸ãƒˆãƒª**: https://github.com/mopinfish/geo-base  
**æœ¬ç•ªURL (API)**: https://geo-base-puce.vercel.app/  
**æœ¬ç•ªURL (MCP)**: https://geo-base-mcp.fly.dev/  
**æœ¬ç•ªURL (Admin)**: https://geo-base-admin.vercel.app/ ï¼ˆãƒ‡ãƒ—ãƒ­ã‚¤å¾Œï¼‰  
**APIãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 0.3.0  
**MCPãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 0.2.0  
**Admin UIãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 0.3.0

---

## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### ç›®çš„
åœ°ç†ç©ºé–“ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ©ã‚¹ã‚¿/ãƒ™ã‚¯ã‚¿ã‚¿ã‚¤ãƒ«ï¼‰ã‚’é…ä¿¡ã™ã‚‹ã‚¿ã‚¤ãƒ«ã‚µãƒ¼ãƒãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã®æ§‹ç¯‰ã€‚MCPã‚µãƒ¼ãƒãƒ¼ã‚’é€šã˜ã¦Claudeã¨ã®é€£æºã‚‚å¯èƒ½ã«ã™ã‚‹ã€‚

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Admin UI      â”‚     â”‚   MCP Server    â”‚     â”‚   å¤–éƒ¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ  â”‚
â”‚   (Next.js)     â”‚     â”‚   (FastMCP)     â”‚     â”‚   (MapLibreç­‰)   â”‚
â”‚   âœ… Step3.3å®Œäº†â”‚     â”‚   âœ… Fly.ioç¨¼åƒ â”‚     â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚     Tile Server API     â”‚
                    â”‚   (FastAPI on Vercel)   â”‚
                    â”‚   âœ… æœ¬ç•ªç¨¼åƒä¸­         â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                      â”‚                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PostgreSQL+PostGISâ”‚  â”‚ Supabase Storage â”‚  â”‚   External COG    â”‚
â”‚    (Supabase)     â”‚  â”‚   (PMTiles)      â”‚  â”‚   (S3, HTTP)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. å®Œäº†ã—ãŸä½œæ¥­

### ãƒ•ã‚§ãƒ¼ã‚º1: ã‚¿ã‚¤ãƒ«ã‚µãƒ¼ãƒãƒ¼APIï¼ˆå®Œäº†ï¼‰

| Step | å†…å®¹ | çŠ¶æ…‹ |
|------|------|------|
| 1.1 | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸè¨­å®š | âœ… å®Œäº† |
| 1.2 | FastAPIã‚¿ã‚¤ãƒ«ã‚µãƒ¼ãƒãƒ¼æ§‹ç¯‰ | âœ… å®Œäº† |
| 1.3 | å‹•çš„ã‚¿ã‚¤ãƒ«ç”Ÿæˆæ©Ÿèƒ½ã®å……å®Ÿ | âœ… å®Œäº† |
| 1.4 | Vercelãƒ‡ãƒ—ãƒ­ã‚¤ | âœ… å®Œäº† |
| 1.5 | ãƒ©ã‚¹ã‚¿ã‚¿ã‚¤ãƒ«å¯¾å¿œï¼ˆCOG/GeoTIFFï¼‰ | âš ï¸ éƒ¨åˆ†å®Œäº†ï¼ˆVercelã§ã¯å‹•ä½œä¸å¯ï¼‰ |
| 1.6 | PMTileså¯¾å¿œ | âœ… å®Œäº† |
| 1.7 | èªè¨¼æ©Ÿèƒ½ï¼ˆSupabase Authï¼‰ | âœ… å®Œäº† |

### ãƒ•ã‚§ãƒ¼ã‚º2: MCPã‚µãƒ¼ãƒãƒ¼ï¼ˆå®Œäº†ï¼‰

| Step | å†…å®¹ | çŠ¶æ…‹ |
|------|------|------|
| 2.1 | FastMCPã‚µãƒ¼ãƒãƒ¼åŸºç›¤æ§‹ç¯‰ | âœ… å®Œäº† |
| 2.2 | ãƒ­ãƒ¼ã‚«ãƒ«å‹•ä½œç¢ºèªãƒ»ãƒ†ã‚¹ãƒˆ | âœ… å®Œäº† |
| 2.3 | Fly.ioãƒ‡ãƒ—ãƒ­ã‚¤ | âœ… å®Œäº† |
| 2.4 | Claude Desktopé€£æºç¢ºèª | âœ… å®Œäº† |
| 2.4-A | ã‚¸ã‚ªã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ„ãƒ¼ãƒ«è¿½åŠ  | âœ… å®Œäº† |
| 2.4-B | CRUDãƒ„ãƒ¼ãƒ«è¿½åŠ  | âœ… å®Œäº† |

### ãƒ•ã‚§ãƒ¼ã‚º3: ç®¡ç†ç”»é¢ï¼ˆé€²è¡Œä¸­ï¼‰

| Step | å†…å®¹ | çŠ¶æ…‹ |
|------|------|------|
| 3.1 | Next.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š | âœ… å®Œäº† |
| 3.2 | Supabase Authé€£æº | âœ… å®Œäº† |
| 3.3 | ã‚¿ã‚¤ãƒ«ã‚»ãƒƒãƒˆç®¡ç†UI | âœ… å®Œäº† |
| 3.4 | ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ç®¡ç†UI | ğŸ“‹ æœªç€æ‰‹ |

---

## 3. ç¾åœ¨ã®ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
geo-base/
â”œâ”€â”€ api/                          # FastAPI ã‚¿ã‚¤ãƒ«ã‚µãƒ¼ãƒãƒ¼
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ auth.py              # èªè¨¼ãƒ»JWTæ¤œè¨¼ã€Step 1.7ã€‘
â”‚   â”‚   â”œâ”€â”€ config.py            # è¨­å®šç®¡ç†ï¼ˆpydantic-settingsï¼‰
â”‚   â”‚   â”œâ”€â”€ database.py          # DBæ¥ç¶šï¼ˆã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹å¯¾å¿œï¼‰
â”‚   â”‚   â”œâ”€â”€ main.py              # FastAPIã‚¢ãƒ—ãƒªãƒ»ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ pmtiles.py           # PMTilesãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã€Step 1.6ã€‘
â”‚   â”‚   â”œâ”€â”€ raster_tiles.py      # ãƒ©ã‚¹ã‚¿ãƒ¼ã‚¿ã‚¤ãƒ«ç”Ÿæˆãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”‚   â””â”€â”€ tiles.py             # ãƒ™ã‚¯ã‚¿ãƒ¼ã‚¿ã‚¤ãƒ«ç”Ÿæˆãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”œâ”€â”€ data/                    # MBTilesãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ç”¨ï¼‰
â”‚   â”œâ”€â”€ index.py                 # Vercelã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ pyproject.toml
â”‚   â”œâ”€â”€ uv.lock
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”œâ”€â”€ runtime.txt
â”‚   â”œâ”€â”€ .env.example
â”‚   â””â”€â”€ .python-version
â”œâ”€â”€ mcp/                          # MCPã‚µãƒ¼ãƒãƒ¼ã€Step 2å®Œäº†ã€‘
â”‚   â”œâ”€â”€ tools/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ tilesets.py          # ã‚¿ã‚¤ãƒ«ã‚»ãƒƒãƒˆé–¢é€£ãƒ„ãƒ¼ãƒ«
â”‚   â”‚   â”œâ”€â”€ features.py          # ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼é–¢é€£ãƒ„ãƒ¼ãƒ«
â”‚   â”‚   â”œâ”€â”€ geocoding.py         # ã‚¸ã‚ªã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ„ãƒ¼ãƒ«
â”‚   â”‚   â””â”€â”€ crud.py              # CRUDæ“ä½œãƒ„ãƒ¼ãƒ«
â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ conftest.py
â”‚   â”‚   â”œâ”€â”€ test_tools.py
â”‚   â”‚   â”œâ”€â”€ test_geocoding.py
â”‚   â”‚   â”œâ”€â”€ test_crud.py
â”‚   â”‚   â””â”€â”€ live_test.py
â”‚   â”œâ”€â”€ server.py                # FastMCPã‚µãƒ¼ãƒãƒ¼æœ¬ä½“
â”‚   â”œâ”€â”€ config.py
â”‚   â”œâ”€â”€ pyproject.toml
â”‚   â”œâ”€â”€ uv.lock
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ fly.toml
â”‚   â”œâ”€â”€ .dockerignore
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ .env.example
â”‚   â”œâ”€â”€ .python-version
â”‚   â””â”€â”€ claude_desktop_config.example.json
â”œâ”€â”€ app/                          # Next.jsç®¡ç†ç”»é¢ã€Step 3.3å®Œäº†ã€‘
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx       # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆAuthProviderï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx         # ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”‚   â”‚   â”œâ”€â”€ globals.css      # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â”‚   â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx     # ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ callback/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ route.ts # OAuth ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯
â”‚   â”‚   â”‚   â”œâ”€â”€ tilesets/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx     # ã‚¿ã‚¤ãƒ«ã‚»ãƒƒãƒˆä¸€è¦§ã€Step 3.3æ›´æ–°ã€‘
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ new/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx # æ–°è¦ä½œæˆã€Step 3.3ã€‘
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ page.tsx # è©³ç´°ã€Step 3.3ã€‘
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ edit/
â”‚   â”‚   â”‚   â”‚           â””â”€â”€ page.tsx # ç·¨é›†ã€Step 3.3ã€‘
â”‚   â”‚   â”‚   â”œâ”€â”€ features/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx     # ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ä¸€è¦§
â”‚   â”‚   â”‚   â”œâ”€â”€ datasources/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx     # ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹
â”‚   â”‚   â”‚   â””â”€â”€ settings/
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx     # è¨­å®š
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ sidebar.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ admin-layout.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ tilesets/        # ã€Step 3.3è¿½åŠ ã€‘
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ tileset-form.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ delete-tileset-dialog.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ui/
â”‚   â”‚   â”‚       â”œâ”€â”€ alert-dialog.tsx  # ã€Step 3.3è¿½åŠ ã€‘
â”‚   â”‚   â”‚       â”œâ”€â”€ badge.tsx
â”‚   â”‚   â”‚       â”œâ”€â”€ button.tsx
â”‚   â”‚   â”‚       â”œâ”€â”€ card.tsx
â”‚   â”‚   â”‚       â”œâ”€â”€ dialog.tsx
â”‚   â”‚   â”‚       â”œâ”€â”€ dropdown-menu.tsx
â”‚   â”‚   â”‚       â”œâ”€â”€ input.tsx
â”‚   â”‚   â”‚       â”œâ”€â”€ label.tsx
â”‚   â”‚   â”‚       â”œâ”€â”€ select.tsx
â”‚   â”‚   â”‚       â”œâ”€â”€ separator.tsx
â”‚   â”‚   â”‚       â”œâ”€â”€ switch.tsx        # ã€Step 3.3è¿½åŠ ã€‘
â”‚   â”‚   â”‚       â”œâ”€â”€ table.tsx
â”‚   â”‚   â”‚       â””â”€â”€ textarea.tsx      # ã€Step 3.3è¿½åŠ ã€‘
â”‚   â”‚   â”œâ”€â”€ contexts/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”‚   â””â”€â”€ auth-context.tsx
â”‚   â”‚   â”œâ”€â”€ hooks/               # ã€Step 3.3è¿½åŠ ã€‘
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”‚   â””â”€â”€ use-api.ts       # èªè¨¼ä»˜ãAPIãƒ•ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”‚   â”œâ”€â”€ api.ts           # APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ utils.ts
â”‚   â”‚   â”‚   â””â”€â”€ supabase/
â”‚   â”‚   â”‚       â”œâ”€â”€ client.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ server.ts
â”‚   â”‚   â”‚       â””â”€â”€ middleware.ts
â”‚   â”‚   â”œâ”€â”€ middleware.ts        # Next.js ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
â”‚   â”‚   â””â”€â”€ types/
â”‚   â”‚       â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ .env.example
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ package-lock.json
â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â”œâ”€â”€ next.config.ts
â”‚   â”œâ”€â”€ postcss.config.mjs
â”‚   â”œâ”€â”€ components.json
â”‚   â””â”€â”€ README.md
â”œâ”€â”€ docker/
â”‚   â”œâ”€â”€ docker-compose.yml
â”‚   â””â”€â”€ postgis-init/
â”‚       â”œâ”€â”€ 01_init.sql
â”‚       â”œâ”€â”€ 02_raster_schema.sql
â”‚       â”œâ”€â”€ 03_pmtiles_schema.sql
â”‚       â””â”€â”€ 04_rls_policies.sql
â”œâ”€â”€ packages/
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ setup.sh
â”‚   â””â”€â”€ seed.sh
â”œâ”€â”€ vercel.json
â”œâ”€â”€ DEPLOY.md
â”œâ”€â”€ TESTING.md
â”œâ”€â”€ LOCAL_DEVELOPMENT.md
â”œâ”€â”€ HANDOVER.md
â””â”€â”€ README.md
```

---

## 4. Step 3.3 ã‚¿ã‚¤ãƒ«ã‚»ãƒƒãƒˆç®¡ç†UI è©³ç´°

### å®Ÿè£…ã—ãŸæ©Ÿèƒ½

| æ©Ÿèƒ½ | ãƒ‘ã‚¹ | èª¬æ˜ |
|-----|------|------|
| ä¸€è¦§è¡¨ç¤º | `/tilesets` | ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãƒ»æ¤œç´¢æ©Ÿèƒ½ä»˜ã |
| è©³ç´°è¡¨ç¤º | `/tilesets/[id]` | ã‚¿ã‚¤ãƒ«æƒ…å ±ã€API URLè¡¨ç¤ºã€å‰Šé™¤æ©Ÿèƒ½ |
| æ–°è¦ä½œæˆ | `/tilesets/new` | ãƒ•ã‚©ãƒ¼ãƒ ã«ã‚ˆã‚‹ä½œæˆ |
| ç·¨é›† | `/tilesets/[id]/edit` | æ—¢å­˜ã‚¿ã‚¤ãƒ«ã‚»ãƒƒãƒˆã®æ›´æ–° |
| å‰Šé™¤ | è©³ç´°ãƒšãƒ¼ã‚¸å†… | ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ä»˜ã |

### è¿½åŠ ã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | ãƒ‘ã‚¹ | èª¬æ˜ |
|--------------|------|------|
| `TilesetForm` | `/components/tilesets/tileset-form.tsx` | ä½œæˆãƒ»ç·¨é›†å…±é€šãƒ•ã‚©ãƒ¼ãƒ  |
| `DeleteTilesetDialog` | `/components/tilesets/delete-tileset-dialog.tsx` | å‰Šé™¤ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚° |
| `AlertDialog` | `/components/ui/alert-dialog.tsx` | shadcn/ui AlertDialog |
| `Switch` | `/components/ui/switch.tsx` | å…¬é–‹/éå…¬é–‹åˆ‡ã‚Šæ›¿ãˆ |
| `Textarea` | `/components/ui/textarea.tsx` | èª¬æ˜å…¥åŠ›ç”¨ |

### è¿½åŠ ã—ãŸãƒ•ãƒƒã‚¯

| ãƒ•ãƒƒã‚¯ | ãƒ‘ã‚¹ | èª¬æ˜ |
|-------|------|------|
| `useApi` | `/hooks/use-api.ts` | èªè¨¼ä»˜ãAPIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ |

### èªè¨¼ä»˜ãAPIå‘¼ã³å‡ºã—ã®ä»•çµ„ã¿

```typescript
// useApiãƒ•ãƒƒã‚¯ã¯è‡ªå‹•çš„ã«Supabaseãƒˆãƒ¼ã‚¯ãƒ³ã‚’APIã«è¨­å®š
const api = useApi();

// èªè¨¼æ¸ˆã¿ã®APIå‘¼ã³å‡ºã—
const tileset = await api.createTileset(data);
```

---

## 5. ä»Šå¾Œã®èª²é¡Œã¨å®Ÿè£…æ–¹é‡

### Step 3.4: ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ç®¡ç†UI

#### å®Ÿè£…å†…å®¹
- ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ä¸€è¦§ãƒšãƒ¼ã‚¸ã®æ›´æ–°ï¼ˆæ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½ï¼‰
- ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼è©³ç´°ãƒšãƒ¼ã‚¸ (`/features/[id]`)
- ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ä½œæˆãƒ•ã‚©ãƒ¼ãƒ 
- ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ 
- GeoJSONè¡¨ç¤ºãƒ»ç·¨é›†æ©Ÿèƒ½

#### è¿½åŠ äºˆå®šãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

```bash
npm install maplibre-gl react-map-gl
```

### å°†æ¥ã®æ”¹å–„æ¡ˆ

1. **ãƒãƒƒãƒ—ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼**: MapLibre GL JS ã«ã‚ˆã‚‹ã‚¿ã‚¤ãƒ«/ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ã®å¯è¦–åŒ–
2. **ãƒãƒ«ã‚¯ã‚¤ãƒ³ãƒãƒ¼ãƒˆ**: GeoJSON/Shapefile ã®ä¸€æ‹¬ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
3. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°**: Supabase Realtime ã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿åŒæœŸ
4. **ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰å¼·åŒ–**: çµ±è¨ˆã‚°ãƒ©ãƒ•ã€ä½¿ç”¨é‡ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°

---

## 6. ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ

### ãƒãƒ¼ãƒˆå‰²ã‚Šå½“ã¦

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | ãƒãƒ¼ãƒˆ | ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª |
|--------------|--------|-------------|
| Admin UI | 3000 | `/app` |
| API | 8000 | `/api` |
| MCP Server | 8001 | `/mcp` |

### èµ·å‹•æ–¹æ³•

```fish
# ã‚¿ãƒ¼ãƒŸãƒŠãƒ«1: API
cd api && uv run uvicorn lib.main:app --reload --port 8000

# ã‚¿ãƒ¼ãƒŸãƒŠãƒ«2: Admin UI
cd app && npm run dev
```

### ç’°å¢ƒå¤‰æ•° (`/app/.env.local`)

```env
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY=sb_publishable_your_key
# ã¾ãŸã¯
# NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
```

---

## 7. æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ |
|---------|------|-----------|
| Admin UI Framework | Next.js | 16.x |
| Admin UI Language | TypeScript | 5.x |
| Admin UI Styling | Tailwind CSS | 4.x |
| Admin UI Components | shadcn/ui | - |
| Admin UI Icons | Lucide React | 0.560.x |
| Admin UI Auth | @supabase/ssr | 0.5.x |
| API Framework | FastAPI | 0.115.x |
| Database | PostgreSQL + PostGIS | 16 + 3.4 |
| Database Hosting | Supabase | - |
| API Hosting | Vercel Serverless | Python 3.12 |
| MCP Framework | FastMCP | 2.14.0 |
| MCP Hosting | Fly.io | - |

---

## 8. å¤‰æ›´å±¥æ­´

| æ—¥ä»˜ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | å¤‰æ›´å†…å®¹ |
|------|-----------|---------|
| 2025-12-12 | 0.1.0 | åˆç‰ˆä½œæˆï¼ˆStep 1.1ã€œ1.4å®Œäº†ï¼‰ |
| 2025-12-12 | 0.2.0 | ãƒ©ã‚¹ã‚¿ã‚¿ã‚¤ãƒ«å¯¾å¿œã€PMTileså¯¾å¿œè¿½åŠ  |
| 2025-12-12 | 0.3.0 | èªè¨¼æ©Ÿèƒ½è¿½åŠ  |
| 2025-12-12 | 0.4.0ã€œ0.7.0 | MCPã‚µãƒ¼ãƒãƒ¼å®Œäº† |
| 2025-12-13 | 0.8.0 | Next.js Admin UIåŸºç›¤æ§‹ç¯‰ï¼ˆStep 3.1å®Œäº†ï¼‰ |
| 2025-12-13 | 0.9.0 | Supabase Authé€£æºï¼ˆStep 3.2å®Œäº†ï¼‰ |
| 2025-12-13 | 0.10.0 | **ã‚¿ã‚¤ãƒ«ã‚»ãƒƒãƒˆç®¡ç†UIï¼ˆStep 3.3å®Œäº†ï¼‰** - è©³ç´°/ä½œæˆ/ç·¨é›†/å‰Šé™¤ãƒšãƒ¼ã‚¸ã€èªè¨¼ä»˜ãAPIãƒ•ãƒƒã‚¯ |

---

*ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯2025-12-13æ™‚ç‚¹ã®æƒ…å ±ã§ã™ã€‚APIãƒãƒ¼ã‚¸ãƒ§ãƒ³: 0.3.0 / MCPãƒãƒ¼ã‚¸ãƒ§ãƒ³: 0.2.0 / Admin UIãƒãƒ¼ã‚¸ãƒ§ãƒ³: 0.3.0*
